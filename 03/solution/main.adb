with Ada.Strings.Unbounded;  use Ada.Strings.Unbounded;
with Bounds;                 use Bounds;
with Ada.Text_IO;            use Ada.Text_IO;

Procedure Main is
  function "+" (Source : String) return Ada.Strings.Unbounded.Unbounded_String
    renames Ada.Strings.Unbounded.To_Unbounded_String;
  Line_One : Path_Array;
  Line_Two : Path_Array;
  Max_U : Integer := 0;
  Max_D : Integer := 0;
  Max_L : Integer := 0;
  Max_R : Integer := 0;
begin
  Line_One(1) := +"R1007";
  Line_One(2) := +"D949";
  Line_One(3) := +"R640";
  Line_One(4) := +"D225";
  Line_One(5) := +"R390";
  Line_One(6) := +"D41";
  Line_One(7) := +"R257";
  Line_One(8) := +"D180";
  Line_One(9) := +"L372";
  Line_One(10) := +"U62";
  Line_One(11) := +"L454";
  Line_One(12) := +"U594";
  Line_One(13) := +"L427";
  Line_One(14) := +"U561";
  Line_One(15) := +"R844";
  Line_One(16) := +"D435";
  Line_One(17) := +"L730";
  Line_One(18) := +"U964";
  Line_One(19) := +"L164";
  Line_One(20) := +"U342";
  Line_One(21) := +"R293";
  Line_One(22) := +"D490";
  Line_One(23) := +"L246";
  Line_One(24) := +"U323";
  Line_One(25) := +"L14";
  Line_One(26) := +"D366";
  Line_One(27) := +"L549";
  Line_One(28) := +"U312";
  Line_One(29) := +"L851";
  Line_One(30) := +"U959";
  Line_One(31) := +"L255";
  Line_One(32) := +"U947";
  Line_One(33) := +"L179";
  Line_One(34) := +"U109";
  Line_One(35) := +"R850";
  Line_One(36) := +"D703";
  Line_One(37) := +"L310";
  Line_One(38) := +"U175";
  Line_One(39) := +"L665";
  Line_One(40) := +"U515";
  Line_One(41) := +"R23";
  Line_One(42) := +"D633";
  Line_One(43) := +"L212";
  Line_One(44) := +"U650";
  Line_One(45) := +"R477";
  Line_One(46) := +"U131";
  Line_One(47) := +"L838";
  Line_One(48) := +"D445";
  Line_One(49) := +"R999";
  Line_One(50) := +"D229";
  Line_One(51) := +"L772";
  Line_One(52) := +"U716";
  Line_One(53) := +"L137";
  Line_One(54) := +"U355";
  Line_One(55) := +"R51";
  Line_One(56) := +"D565";
  Line_One(57) := +"L410";
  Line_One(58) := +"D493";
  Line_One(59) := +"L312";
  Line_One(60) := +"U623";
  Line_One(61) := +"L846";
  Line_One(62) := +"D283";
  Line_One(63) := +"R980";
  Line_One(64) := +"U804";
  Line_One(65) := +"L791";
  Line_One(66) := +"U918";
  Line_One(67) := +"L641";
  Line_One(68) := +"U258";
  Line_One(69) := +"R301";
  Line_One(70) := +"U727";
  Line_One(71) := +"L307";
  Line_One(72) := +"U970";
  Line_One(73) := +"L748";
  Line_One(74) := +"U229";
  Line_One(75) := +"L225";
  Line_One(76) := +"U997";
  Line_One(77) := +"L134";
  Line_One(78) := +"D707";
  Line_One(79) := +"L655";
  Line_One(80) := +"D168";
  Line_One(81) := +"L931";
  Line_One(82) := +"D6";
  Line_One(83) := +"R36";
  Line_One(84) := +"D617";
  Line_One(85) := +"L211";
  Line_One(86) := +"D453";
  Line_One(87) := +"L969";
  Line_One(88) := +"U577";
  Line_One(89) := +"R299";
  Line_One(90) := +"D804";
  Line_One(91) := +"R910";
  Line_One(92) := +"D898";
  Line_One(93) := +"R553";
  Line_One(94) := +"U298";
  Line_One(95) := +"L309";
  Line_One(96) := +"D912";
  Line_One(97) := +"R757";
  Line_One(98) := +"U581";
  Line_One(99) := +"R228";
  Line_One(100) := +"U586";
  Line_One(101) := +"L331";
  Line_One(102) := +"D865";
  Line_One(103) := +"R606";
  Line_One(104) := +"D163";
  Line_One(105) := +"R425";
  Line_One(106) := +"U670";
  Line_One(107) := +"R156";
  Line_One(108) := +"U814";
  Line_One(109) := +"L168";
  Line_One(110) := +"D777";
  Line_One(111) := +"R674";
  Line_One(112) := +"D970";
  Line_One(113) := +"L64";
  Line_One(114) := +"U840";
  Line_One(115) := +"L688";
  Line_One(116) := +"U144";
  Line_One(117) := +"L101";
  Line_One(118) := +"U281";
  Line_One(119) := +"L615";
  Line_One(120) := +"D393";
  Line_One(121) := +"R277";
  Line_One(122) := +"U990";
  Line_One(123) := +"L9";
  Line_One(124) := +"U619";
  Line_One(125) := +"L904";
  Line_One(126) := +"D967";
  Line_One(127) := +"L166";
  Line_One(128) := +"U839";
  Line_One(129) := +"L132";
  Line_One(130) := +"U216";
  Line_One(131) := +"R988";
  Line_One(132) := +"U834";
  Line_One(133) := +"R342";
  Line_One(134) := +"U197";
  Line_One(135) := +"L717";
  Line_One(136) := +"U167";
  Line_One(137) := +"L524";
  Line_One(138) := +"U747";
  Line_One(139) := +"L222";
  Line_One(140) := +"U736";
  Line_One(141) := +"L149";
  Line_One(142) := +"D156";
  Line_One(143) := +"L265";
  Line_One(144) := +"U657";
  Line_One(145) := +"L72";
  Line_One(146) := +"D728";
  Line_One(147) := +"L966";
  Line_One(148) := +"U896";
  Line_One(149) := +"R45";
  Line_One(150) := +"D985";
  Line_One(151) := +"R297";
  Line_One(152) := +"U38";
  Line_One(153) := +"R6";
  Line_One(154) := +"D390";
  Line_One(155) := +"L65";
  Line_One(156) := +"D367";
  Line_One(157) := +"R806";
  Line_One(158) := +"U999";
  Line_One(159) := +"L840";
  Line_One(160) := +"D583";
  Line_One(161) := +"R646";
  Line_One(162) := +"U43";
  Line_One(163) := +"L731";
  Line_One(164) := +"D929";
  Line_One(165) := +"L941";
  Line_One(166) := +"D165";
  Line_One(167) := +"R663";
  Line_One(168) := +"U645";
  Line_One(169) := +"L753";
  Line_One(170) := +"U619";
  Line_One(171) := +"R60";
  Line_One(172) := +"D14";
  Line_One(173) := +"L811";
  Line_One(174) := +"D622";
  Line_One(175) := +"L835";
  Line_One(176) := +"U127";
  Line_One(177) := +"L475";
  Line_One(178) := +"D494";
  Line_One(179) := +"R466";
  Line_One(180) := +"U695";
  Line_One(181) := +"R809";
  Line_One(182) := +"U446";
  Line_One(183) := +"R523";
  Line_One(184) := +"D403";
  Line_One(185) := +"R843";
  Line_One(186) := +"U715";
  Line_One(187) := +"L486";
  Line_One(188) := +"D661";
  Line_One(189) := +"L584";
  Line_One(190) := +"U818";
  Line_One(191) := +"L377";
  Line_One(192) := +"D857";
  Line_One(193) := +"L220";
  Line_One(194) := +"U309";
  Line_One(195) := +"R192";
  Line_One(196) := +"U601";
  Line_One(197) := +"R253";
  Line_One(198) := +"D13";
  Line_One(199) := +"L95";
  Line_One(200) := +"U32";
  Line_One(201) := +"L646";
  Line_One(202) := +"D983";
  Line_One(203) := +"R13";
  Line_One(204) := +"U821";
  Line_One(205) := +"L1";
  Line_One(206) := +"U309";
  Line_One(207) := +"L425";
  Line_One(208) := +"U993";
  Line_One(209) := +"L785";
  Line_One(210) := +"U804";
  Line_One(211) := +"L663";
  Line_One(212) := +"U699";
  Line_One(213) := +"L286";
  Line_One(214) := +"U280";
  Line_One(215) := +"R237";
  Line_One(216) := +"U388";
  Line_One(217) := +"L170";
  Line_One(218) := +"D222";
  Line_One(219) := +"L900";
  Line_One(220) := +"U204";
  Line_One(221) := +"R68";
  Line_One(222) := +"D453";
  Line_One(223) := +"R721";
  Line_One(224) := +"U326";
  Line_One(225) := +"L629";
  Line_One(226) := +"D44";
  Line_One(227) := +"R925";
  Line_One(228) := +"D347";
  Line_One(229) := +"R264";
  Line_One(230) := +"D767";
  Line_One(231) := +"L785";
  Line_One(232) := +"U249";
  Line_One(233) := +"R989";
  Line_One(234) := +"D469";
  Line_One(235) := +"L446";
  Line_One(236) := +"D384";
  Line_One(237) := +"L914";
  Line_One(238) := +"U444";
  Line_One(239) := +"R741";
  Line_One(240) := +"U90";
  Line_One(241) := +"R424";
  Line_One(242) := +"U107";
  Line_One(243) := +"R98";
  Line_One(244) := +"U20";
  Line_One(245) := +"R302";
  Line_One(246) := +"U464";
  Line_One(247) := +"L808";
  Line_One(248) := +"D615";
  Line_One(249) := +"R837";
  Line_One(250) := +"U405";
  Line_One(251) := +"L191";
  Line_One(252) := +"D26";
  Line_One(253) := +"R661";
  Line_One(254) := +"D758";
  Line_One(255) := +"L866";
  Line_One(256) := +"D640";
  Line_One(257) := +"L675";
  Line_One(258) := +"U135";
  Line_One(259) := +"R288";
  Line_One(260) := +"D357";
  Line_One(261) := +"R316";
  Line_One(262) := +"D127";
  Line_One(263) := +"R599";
  Line_One(264) := +"U411";
  Line_One(265) := +"R664";
  Line_One(266) := +"D584";
  Line_One(267) := +"L979";
  Line_One(268) := +"D432";
  Line_One(269) := +"R887";
  Line_One(270) := +"D104";
  Line_One(271) := +"R275";
  Line_One(272) := +"D825";
  Line_One(273) := +"L338";
  Line_One(274) := +"D739";
  Line_One(275) := +"R568";
  Line_One(276) := +"D625";
  Line_One(277) := +"L829";
  Line_One(278) := +"D393";
  Line_One(279) := +"L997";
  Line_One(280) := +"D291";
  Line_One(281) := +"L448";
  Line_One(282) := +"D947";
  Line_One(283) := +"L728";
  Line_One(284) := +"U181";
  Line_One(285) := +"L137";
  Line_One(286) := +"D572";
  Line_One(287) := +"L16";
  Line_One(288) := +"U358";
  Line_One(289) := +"R331";
  Line_One(290) := +"D966";
  Line_One(291) := +"R887";
  Line_One(292) := +"D122";
  Line_One(293) := +"L334";
  Line_One(294) := +"D560";
  Line_One(295) := +"R938";
  Line_One(296) := +"D159";
  Line_One(297) := +"R178";
  Line_One(298) := +"D29";
  Line_One(299) := +"L832";
  Line_One(300) := +"D58";
  Line_One(301) := +"R374";

  Line_Two(1)  := +"L993";
  Line_Two(2)  := +"U121";
  Line_Two(3)  := +"L882";
  Line_Two(4)  := +"U500";
  Line_Two(5)  := +"L740";
  Line_Two(6)  := +"D222";
  Line_Two(7)  := +"R574";
  Line_Two(8)  := +"U947";
  Line_Two(9)  := +"L541";
  Line_Two(10) := +"U949";
  Line_Two(11) := +"L219";
  Line_Two(12) := +"D492";
  Line_Two(13) := +"R108";
  Line_Two(14) := +"D621";
  Line_Two(15) := +"L875";
  Line_Two(16) := +"D715";
  Line_Two(17) := +"R274";
  Line_Two(18) := +"D858";
  Line_Two(19) := +"R510";
  Line_Two(20) := +"U668";
  Line_Two(21) := +"R677";
  Line_Two(22) := +"U327";
  Line_Two(23) := +"L284";
  Line_Two(24) := +"U537";
  Line_Two(25) := +"L371";
  Line_Two(26) := +"U810";
  Line_Two(27) := +"L360";
  Line_Two(28) := +"U333";
  Line_Two(29) := +"L926";
  Line_Two(30) := +"D144";
  Line_Two(31) := +"R162";
  Line_Two(32) := +"U750";
  Line_Two(33) := +"L741";
  Line_Two(34) := +"D360";
  Line_Two(35) := +"R792";
  Line_Two(36) := +"D256";
  Line_Two(37) := +"L44";
  Line_Two(38) := +"D893";
  Line_Two(39) := +"R969";
  Line_Two(40) := +"D996";
  Line_Two(41) := +"L905";
  Line_Two(42) := +"D524";
  Line_Two(43) := +"R538";
  Line_Two(44) := +"U141";
  Line_Two(45) := +"R70";
  Line_Two(46) := +"U347";
  Line_Two(47) := +"L383";
  Line_Two(48) := +"U74";
  Line_Two(49) := +"R893";
  Line_Two(50) := +"D560";
  Line_Two(51) := +"L39";
  Line_Two(52) := +"U447";
  Line_Two(53) := +"L205";
  Line_Two(54) := +"D783";
  Line_Two(55) := +"L244";
  Line_Two(56) := +"D40";
  Line_Two(57) := +"R374";
  Line_Two(58) := +"U507";
  Line_Two(59) := +"L946";
  Line_Two(60) := +"D934";
  Line_Two(61) := +"R962";
  Line_Two(62) := +"D138";
  Line_Two(63) := +"L584";
  Line_Two(64) := +"U562";
  Line_Two(65) := +"L624";
  Line_Two(66) := +"U69";
  Line_Two(67) := +"L77";
  Line_Two(68) := +"D137";
  Line_Two(69) := +"L441";
  Line_Two(70) := +"U671";
  Line_Two(71) := +"L849";
  Line_Two(72) := +"D283";
  Line_Two(73) := +"L742";
  Line_Two(74) := +"D459";
  Line_Two(75) := +"R105";
  Line_Two(76) := +"D265";
  Line_Two(77) := +"R312";
  Line_Two(78) := +"D734";
  Line_Two(79) := +"R47";
  Line_Two(80) := +"D369";
  Line_Two(81) := +"R676";
  Line_Two(82) := +"D429";
  Line_Two(83) := +"R160";
  Line_Two(84) := +"D814";
  Line_Two(85) := +"L881";
  Line_Two(86) := +"D830";
  Line_Two(87) := +"R395";
  Line_Two(88) := +"U598";
  Line_Two(89) := +"L413";
  Line_Two(90) := +"U817";
  Line_Two(91) := +"R855";
  Line_Two(92) := +"D377";
  Line_Two(93) := +"L338";
  Line_Two(94) := +"D413";
  Line_Two(95) := +"L294";
  Line_Two(96) := +"U321";
  Line_Two(97) := +"L714";
  Line_Two(98) := +"D217";
  Line_Two(99) := +"L15";
  Line_Two(100) := +"U341";
  Line_Two(101) := +"R342";
  Line_Two(102) := +"D480";
  Line_Two(103) := +"R660";
  Line_Two(104) := +"D11";
  Line_Two(105) := +"L192";
  Line_Two(106) := +"U518";
  Line_Two(107) := +"L654";
  Line_Two(108) := +"U13";
  Line_Two(109) := +"L984";
  Line_Two(110) := +"D866";
  Line_Two(111) := +"R877";
  Line_Two(112) := +"U801";
  Line_Two(113) := +"R413";
  Line_Two(114) := +"U66";
  Line_Two(115) := +"R269";
  Line_Two(116) := +"D750";
  Line_Two(117) := +"R294";
  Line_Two(118) := +"D143";
  Line_Two(119) := +"R929";
  Line_Two(120) := +"D786";
  Line_Two(121) := +"R606";
  Line_Two(122) := +"U816";
  Line_Two(123) := +"L562";
  Line_Two(124) := +"U938";
  Line_Two(125) := +"R484";
  Line_Two(126) := +"U32";
  Line_Two(127) := +"R136";
  Line_Two(128) := +"U30";
  Line_Two(129) := +"L393";
  Line_Two(130) := +"U209";
  Line_Two(131) := +"L838";
  Line_Two(132) := +"U451";
  Line_Two(133) := +"L387";
  Line_Two(134) := +"U413";
  Line_Two(135) := +"R518";
  Line_Two(136) := +"D9";
  Line_Two(137) := +"L847";
  Line_Two(138) := +"D605";
  Line_Two(139) := +"L8";
  Line_Two(140) := +"D805";
  Line_Two(141) := +"R348";
  Line_Two(142) := +"D174";
  Line_Two(143) := +"R865";
  Line_Two(144) := +"U962";
  Line_Two(145) := +"R926";
  Line_Two(146) := +"U401";
  Line_Two(147) := +"R445";
  Line_Two(148) := +"U720";
  Line_Two(149) := +"L843";
  Line_Two(150) := +"U785";
  Line_Two(151) := +"R287";
  Line_Two(152) := +"D656";
  Line_Two(153) := +"L489";
  Line_Two(154) := +"D465";
  Line_Two(155) := +"L192";
  Line_Two(156) := +"U68";
  Line_Two(157) := +"L738";
  Line_Two(158) := +"U962";
  Line_Two(159) := +"R384";
  Line_Two(160) := +"U288";
  Line_Two(161) := +"L517";
  Line_Two(162) := +"U396";
  Line_Two(163) := +"L955";
  Line_Two(164) := +"U556";
  Line_Two(165) := +"R707";
  Line_Two(166) := +"U329";
  Line_Two(167) := +"L589";
  Line_Two(168) := +"U604";
  Line_Two(169) := +"L583";
  Line_Two(170) := +"U457";
  Line_Two(171) := +"R545";
  Line_Two(172) := +"D504";
  Line_Two(173) := +"L521";
  Line_Two(174) := +"U711";
  Line_Two(175) := +"L232";
  Line_Two(176) := +"D329";
  Line_Two(177) := +"L110";
  Line_Two(178) := +"U167";
  Line_Two(179) := +"R311";
  Line_Two(180) := +"D234";
  Line_Two(181) := +"R284";
  Line_Two(182) := +"D984";
  Line_Two(183) := +"L778";
  Line_Two(184) := +"D295";
  Line_Two(185) := +"R603";
  Line_Two(186) := +"U349";
  Line_Two(187) := +"R942";
  Line_Two(188) := +"U81";
  Line_Two(189) := +"R972";
  Line_Two(190) := +"D505";
  Line_Two(191) := +"L301";
  Line_Two(192) := +"U422";
  Line_Two(193) := +"R840";
  Line_Two(194) := +"U689";
  Line_Two(195) := +"R225";
  Line_Two(196) := +"D780";
  Line_Two(197) := +"R379";
  Line_Two(198) := +"D200";
  Line_Two(199) := +"R57";
  Line_Two(200) := +"D781";
  Line_Two(201) := +"R166";
  Line_Two(202) := +"U245";
  Line_Two(203) := +"L865";
  Line_Two(204) := +"U790";
  Line_Two(205) := +"R654";
  Line_Two(206) := +"D127";
  Line_Two(207) := +"R125";
  Line_Two(208) := +"D363";
  Line_Two(209) := +"L989";
  Line_Two(210) := +"D976";
  Line_Two(211) := +"R993";
  Line_Two(212) := +"U702";
  Line_Two(213) := +"L461";
  Line_Two(214) := +"U165";
  Line_Two(215) := +"L747";
  Line_Two(216) := +"U656";
  Line_Two(217) := +"R617";
  Line_Two(218) := +"D115";
  Line_Two(219) := +"L783";
  Line_Two(220) := +"U187";
  Line_Two(221) := +"L462";
  Line_Two(222) := +"U838";
  Line_Two(223) := +"R854";
  Line_Two(224) := +"D516";
  Line_Two(225) := +"L978";
  Line_Two(226) := +"U846";
  Line_Two(227) := +"R203";
  Line_Two(228) := +"D46";
  Line_Two(229) := +"R833";
  Line_Two(230) := +"U393";
  Line_Two(231) := +"L322";
  Line_Two(232) := +"D17";
  Line_Two(233) := +"L160";
  Line_Two(234) := +"D278";
  Line_Two(235) := +"R919";
  Line_Two(236) := +"U611";
  Line_Two(237) := +"L59";
  Line_Two(238) := +"U709";
  Line_Two(239) := +"L472";
  Line_Two(240) := +"U871";
  Line_Two(241) := +"L377";
  Line_Two(242) := +"U111";
  Line_Two(243) := +"L612";
  Line_Two(244) := +"D177";
  Line_Two(245) := +"R712";
  Line_Two(246) := +"U628";
  Line_Two(247) := +"R858";
  Line_Two(248) := +"D54";
  Line_Two(249) := +"L612";
  Line_Two(250) := +"D303";
  Line_Two(251) := +"R205";
  Line_Two(252) := +"U430";
  Line_Two(253) := +"R494";
  Line_Two(254) := +"D306";
  Line_Two(255) := +"L474";
  Line_Two(256) := +"U848";
  Line_Two(257) := +"R816";
  Line_Two(258) := +"D104";
  Line_Two(259) := +"L967";
  Line_Two(260) := +"U886";
  Line_Two(261) := +"L866";
  Line_Two(262) := +"D366";
  Line_Two(263) := +"L120";
  Line_Two(264) := +"D735";
  Line_Two(265) := +"R694";
  Line_Two(266) := +"D335";
  Line_Two(267) := +"R399";
  Line_Two(268) := +"D198";
  Line_Two(269) := +"R132";
  Line_Two(270) := +"D787";
  Line_Two(271) := +"L749";
  Line_Two(272) := +"D612";
  Line_Two(273) := +"R525";
  Line_Two(274) := +"U163";
  Line_Two(275) := +"R660";
  Line_Two(276) := +"U316";
  Line_Two(277) := +"R482";
  Line_Two(278) := +"D412";
  Line_Two(279) := +"L376";
  Line_Two(280) := +"U170";
  Line_Two(281) := +"R891";
  Line_Two(282) := +"D202";
  Line_Two(283) := +"R408";
  Line_Two(284) := +"D333";
  Line_Two(285) := +"R842";
  Line_Two(286) := +"U965";
  Line_Two(287) := +"R955";
  Line_Two(288) := +"U440";
  Line_Two(289) := +"L26";
  Line_Two(290) := +"U747";
  Line_Two(291) := +"R447";
  Line_Two(292) := +"D8";
  Line_Two(293) := +"R319";
  Line_Two(294) := +"D188";
  Line_Two(295) := +"L532";
  Line_Two(296) := +"D39";
  Line_Two(297) := +"L863";
  Line_Two(298) := +"D599";
  Line_Two(299) := +"R307";
  Line_Two(300) := +"U253";
  Line_Two(301) := +"R22";

  Get_Bounds(Line_One, Max_R, Max_L, Max_U, Max_D);
  Put_Line("Max_R: " & Max_R'Image & " Max_L: " & Max_L'Image & " Max_U: " & Max_U'Image & " Max_D: " & Max_D'Image);
  Get_Bounds(Line_Two, Max_R, Max_L, Max_U, Max_D);
  Put_Line("Max_R: " & Max_R'Image & " Max_L: " & Max_L'Image & " Max_U: " & Max_U'Image & " Max_D: " & Max_D'Image);
end Main;
